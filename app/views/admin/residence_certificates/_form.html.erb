<%= form_with(model: [:admin, residence_certificate], class: "grid gap-4 w-1/3") do |form| %>

  <% invalid = residence_certificate.errors.include?(:member_id) %>
  <%= form.label :member_id, I18n.t('activerecord.attributes.residence_certificate.member'), class: "floating-label" do %>
    <%= form.collection_select :member_id, current_neighborhood_association.members, :id, :name, { prompt: true }, { class: "select w-full validator #{'input-error' if invalid}", required: true } %>
    <span><%= I18n.t('activerecord.attributes.residence_certificate.member') %></span>
  <% end %>
  <%= raw(error_message(invalid, residence_certificate.errors.full_messages_for(:member_id))) %>

  <% invalid = residence_certificate.errors.include?(:household_unit_id) %>
  <%= form.label :household_unit_id, I18n.t('activerecord.attributes.residence_certificate.household_unit'), class: "floating-label" do %>
    <%= form.collection_select :household_unit_id, current_neighborhood_association.household_units, :id, :number, { prompt: true }, { class: "select w-full validator #{'input-error' if invalid}", required: true } %>
    <span><%= I18n.t('activerecord.attributes.residence_certificate.household_unit') %></span>
  <% end %>
  <%= raw(error_message(invalid, residence_certificate.errors.full_messages_for(:household_unit_id))) %>

  <% invalid = residence_certificate.errors.include?(:purpose) %>
  <%= form.label :purpose, I18n.t('activerecord.attributes.residence_certificate.purpose'), class: "floating-label" do %>
    <%= form.text_area :purpose, class: "textarea w-full validator #{'input-error' if invalid}", required: true, placeholder: I18n.t('activerecord.attributes.residence_certificate.purpose') %>
    <span><%= I18n.t('activerecord.attributes.residence_certificate.purpose') %></span>
  <% end %>
  <%= raw(error_message(invalid, residence_certificate.errors.full_messages_for(:purpose))) %>

  <%= form.label :notes, I18n.t('activerecord.attributes.residence_certificate.notes'), class: "floating-label" do %>
    <%= form.text_area :notes, class: "textarea w-full", placeholder: I18n.t('activerecord.attributes.residence_certificate.notes') %>
    <span><%= I18n.t('activerecord.attributes.residence_certificate.notes') %></span>
  <% end %>

  <%= form.submit I18n.t('actions.save'), class: "btn btn-success" %>
<% end %>

<div class="w-full">
  <h1 class="font-bold text-4xl my-4"><%= I18n.t('panel.accreditations.index.title') %></h1>

  <div class="flex flex-row gap-2 mb-4">
    <%= link_to raw(icon('back') + I18n.t('actions.back')), panel_root_path, class: "btn btn-soft" %>
    <% if @member.rejected? %>
      <%= link_to raw(icon('edit') + I18n.t('actions.resubmit')), edit_panel_accreditation_path, class: "btn btn-soft btn-primary" %>
    <% end %>
  </div>

  <div class="mb-4">
    <% if @member.pending? %>
      <div class="badge badge-warning badge-lg">
        <%= I18n.t('activerecord.attributes.member/status.pending') %>
      </div>
    <% elsif @member.approved? %>
      <div class="badge badge-success badge-lg">
        <%= I18n.t('activerecord.attributes.member/status.approved') %>
      </div>
    <% elsif @member.rejected? %>
      <div class="badge badge-error badge-lg">
        <%= I18n.t('activerecord.attributes.member/status.rejected') %>
      </div>
    <% end %>
  </div>

  <dl class="mb-4 divide-y divide-gray-400 w-1/3">
    <div class="p-2 grid gap-2">
      <dt class="font-medium"><%= I18n.t('activerecord.attributes.member.name') %></dt>
      <dd><%= @member.name %></dd>
    </div>
    <div class="p-2 grid gap-2">
      <dt class="font-medium"><%= I18n.t('activerecord.attributes.member.run') %></dt>
      <dd><%= @member.run %></dd>
    </div>
    <div class="p-2 grid gap-2">
      <dt class="font-medium"><%= I18n.t('activerecord.attributes.member.phone') %></dt>
      <dd><%= @member.phone || "â€”" %></dd>
    </div>
    <% if @member.rejected? && @member.rejection_reason.present? %>
      <div class="p-2 grid gap-2">
        <dt class="font-medium"><%= I18n.t('activerecord.attributes.member.rejection_reason') %></dt>
        <dd class="text-error"><%= @member.rejection_reason %></dd>
      </div>
    <% end %>
    <% if @member.documents.attached? %>
      <div class="p-2 grid gap-2">
        <dt class="font-medium"><%= I18n.t('activerecord.attributes.member.documents') %></dt>
        <dd>
          <ul class="list-disc pl-4">
            <% @member.documents.each do |doc| %>
              <li><%= link_to doc.filename, rails_blob_path(doc, disposition: "attachment"), class: "link link-primary" %></li>
            <% end %>
          </ul>
        </dd>
      </div>
    <% end %>
  </dl>
</div>

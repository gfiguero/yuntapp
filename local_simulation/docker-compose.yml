services:
  mock-droplet:
    build: .
    container_name: yuntapp-mock-server
    privileged: true # Necesario para ejecutar Docker dentro de Docker
    ports:
      - "2222:22" # Puerto SSH simulado
      - "8080:80" # Puerto HTTP de la app
    volumes:
      # Montar tu clave p√∫blica local a un archivo temporal
      - ${HOME}/.ssh/id_ed25519.pub:/tmp/ssh_key.pub:ro
      # Persistencia de datos simulada (opcional)
      - docker-data:/var/lib/docker
    environment:
      - DOCKER_TLS_CERTDIR=

volumes:
  docker-data:
